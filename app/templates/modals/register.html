{% from '_macros.html' import render_field %}

<div class="modal fade" id="register-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h2 class="modal-title">Finish Registering</h2>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-8 col-md-offset-2">
            <h4> Thanks for registering with {{ provider.name }}.</h4>
            You're connected as: <b>{{ connection_values['display_name'] }}</b>.
            <br>
            Please finish your registration with your email and setting a password.
            <form class="well" action="{{ url_for('register', provider_id=provider.id) }}" method="POST">
              {{ form.hidden_tag() }}
              {{ render_field(form.display_name, class='form-control') }}
              {{ render_field(form.email, class='form-control') }}
              {{ render_field(form.password, class='form-control') }}
              {{ render_field(form.confirm, class='form-control') }}
              <br>
              <button type="submit" class="btn btn-primary btn-large">Register</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
